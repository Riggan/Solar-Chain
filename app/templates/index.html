<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
<br>

<center>
	<form action="/submit" id="textform" method="post">
		<input type="number" class="textarea" type="" name="content" rows="1" cols="50" placeholder="Enter Energy You Want"></input>
		<br>
		<input type="text" name="seller" placeholder="Seller">
		<input type="text" name="buyer" placeholder="Buyer">
		<br>
		<input type="submit" value="Buy" class="xbutton">
	</form>
</center>

<center>
<form action="/send" id="textform" method="post">
	<input type="submit" value="SEND" class="xbutton">
</form>
</center>
<br>

<a href="{{node_address}}/mine" target="_blank"><button class="ybutton">Request to mine</button></a>
<a href="/"><button class="ybutton" id="onlythis">Resync</button></a>

<div style="margin: 20px;">

	{% for post in posts %}
	<div class="card">
		<div class="container">
			<div class="post_box">
				<div class="post_box-header">
					<!--- <div class="post_box-options"><button class="option-btn">Reply</button></div> --->
					<div class="seller" float="left">

						<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYd9LRyvwwgVNHbLyaWEIN9PU_ilCJJrdaKrCmO8lqKMXoFxKC" alt="Avatar" class="post_box-avatar">
						&nbsp;
						Seller : {{post.seller}}
					</div>
					&nbsp;
					&nbsp;
					&nbsp;
					&nbsp;
					<div class="buyer">

						<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYd9LRyvwwgVNHbLyaWEIN9PU_ilCJJrdaKrCmO8lqKMXoFxKC" alt="Avatar" class="post_box-avatar">
						&nbsp;
						Buyer : {{post.buyer}}

					</div>
				</div>
				<div>
					<div class="post_box-body">
						<p>Energy Transacted : {{post.content}} Kilo Watts</p>
						<div class="post_box-subtitle"> Transacted at <i>{{readable_time(post.timestamp)}}</i></div>
					</div>
				</div>

			</div>
		</div>
	</div>
	{% endfor %}

	<style>
		.card {
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
			transition: 0.3s;
			width: 100%;
			background: white;
			margin: 7px
		}

		.card:hover {
			box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
		}

		.container {
			padding: 2px 16px;
		}

		.seller {
			float: left;
			margin: 10px;
		}

		input[type=number]::-webkit-inner-spin-button,
		input[type=number]::-webkit-outer-spin-button {
			-webkit-appearance: none;
			-moz-appearance: none;
			appearance: none;
			margin: 0;
		}

		.buyer {
			float: right;
			margin: 10px;
		}



		p {
			font-family: "Courier New";
			font-size: 20px;
			font-weight: bold;
		}

		.textarea {
			padding: 12px 20px;
			margin: 8px 0;
			box-sizing: border-box;
			border: 3px solid #ccc;
			-webkit-transition: 0.5s;
			transition: 0.5s;
			border: 3px solid #FFA500;
			outline: none;
			background: none;
		}

		.textarea:focus {
			border: 3px solid #ffdb00;

		}


		input[type=text] {
			font-family: "Segoe UI";
			padding: 12px 20px;
			margin: 8px 0;
			box-sizing: border-box;
			border: 3px solid #000000;
			-webkit-transition: 0.5s;
			transition: 0.5s;
			outline: none;
			background: none;
		}

		input[type=text]:focus {
			border: 3px solid #555;
		}

		.ybutton {
			border-radius: 4px;
			background-color: #009fff;
			border: none;
			color: #FFFFFF;
			text-align: center;
			font-size: 20px;
			padding: 10px;
			transition: all 0.5s;
			cursor: pointer;
			margin-top: 2px;
			margin: 20px;
			font-family: "Segoe UI";
		}

		.ybutton span {
			cursor: pointer;
			display: inline-block;
			position: relative;
			transition: 0.5s;
		}

		.ybutton span:after {
			content: '\00bb';
			position: absolute;
			opacity: 0;
			top: 0;
			right: -20px;
			transition: 0.5s;
		}

		.ybutton:hover span {
			padding-right: 25px;
		}

		.ybutton:hover span:after {
			opacity: 1;
			right: 0;
		}



		.xbutton {
			border-radius: 4px;
			background-color: #4CAF50;
			border: none;
			color: #FFFFFF;
			text-align: center;
			font-size: 20px;
			padding: 10px;
			width: 83px;
			transition: all 0.5s;
			cursor: pointer;
			margin-top: 2px;
			font-family: "Segoe UI";
		}


		.xbutton span {
			cursor: pointer;
			display: inline-block;
			position: relative;
			transition: 0.5s;
		}

		.xbutton span:after {
			content: '\00bb';
			position: absolute;
			opacity: 0;
			top: 0;
			right: -20px;
			transition: 0.5s;
		}

		.xbutton:hover span {
			padding-right: 25px;
		}

		.xbutton:hover span:after {
			opacity: 1;
			right: 0;
		}

		.post_box {
			font-family: "Segoe UI";
			background: #fff;
			padding: 12px 0px 0px 12px;
			margin-top: 0px;
			margin-bottom: 8px;
			border-top: 1px solid #f0f0f0;
		}

		.post_box-header {
			padding-bottom: 12px;
		}

		.post_box-avatar {

			vertical-align: middle;
			width: 50px;
			height: 50px;
			border-radius: 50%;
		}


		.post_box-avatar::after {
			content: "";
			display: block;
		}

		.post_box-name {
			font-weight: bold;
		}

		.post_box-subtitle {
			color: #777;
		}

		.post_box-body {
			margin-top: 16px;
			margin-bottom: 8px;
			text-align: center;
		}

		.post_box-options {
			float: right;
		}

		#onlythis {

			float: right;
		}

		.option-btn {
			background: #f8f8f8;
			border: none;
			color: #2c3e50;
			padding: 7px;
			cursor: pointer;
			font-size: 14px;
			margin-left: 2px;
			margin-right: 2px;
			outline: none;
			height: 42px;
		}
	</style>
</div>
{% endblock %}
